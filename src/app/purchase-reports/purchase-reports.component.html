<!-- <mat-card>
  <mat-card-title>Purchase Details</mat-card-title>
  <br>
  <mat-card-content>
<form class="form"  [formGroup]="PurchaseReportsForm">
  <div class="container-fluid">
    <div class="row">
      <div class="col-3">
        <mat-form-field appearance="outline" class="desc">
          <mat-label>Clients</mat-label>
          <mat-select formControlName="clientId">
            <mat-option class="ClientId" *ngFor="let client of clients" [value]="client.clientId">
            {{client.name}}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
        <div class="col-3">
          <button id="btn" type="button" mat-raised-button color="accent" (click)="Get()"><mat-icon>cached</mat-icon>Get</button>
       </div>
    </div>
    <div class="row">
      <div class="col-3">
        <mat-form-field  appearance="outline" class="Date">
          <mat-label>From Date</mat-label>
          <input matInput [matDatepicker]="picker" formControlName="date">
          <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
      </div>
      <div class="col-3">
        <mat-form-field  appearance="outline" class="Date">
          <mat-label>To Date</mat-label>
          <input matInput [matDatepicker]="picker" formControlName="date">
          <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
      </div>
      </div>
        <div class="row">
          <div class="col-6">
              <mat-form-field  appearance="outline" class="desc">
                <mat-label>Notes</mat-label>
                <textarea matInput  type="textarea" placeholder="Notes" formControlName="notes" ></textarea>
              </mat-form-field>
          </div>
        </div>
        </div>
    <div align="center" [ngStyle]="{'background-color':textcolor,'color':'white'}">
      {{msg}}</div>
    <div class="button-container">
      <button id="btn" mat-raised-button color="primary" type="submit" (click)="submit()"><mat-icon>save</mat-icon>Apply</button>
      <button id="btn" type="button" mat-raised-button color="accent" (click)="update()" ><mat-icon>cached</mat-icon>Update</button>
      <button id="btn" type="button" mat-raised-button color="red" (click)="Delete()"><mat-icon>clear_all</mat-icon>Delete</button>
      <button id="btn" type="button" mat-raised-button color="red" (click)="clear()"><mat-icon>clear</mat-icon>Clear</button>
    </div>
     <div>
      <ag-grid-angular
        style="width:auto;height:200px;"
        class="ag-theme-alpine"
       [columnDefs]="colDefs"
       [rowData]="rowData">
      </ag-grid-angular>
    </div>
</form>
</mat-card-content>
</mat-card> -->
<!-- purchase-reports.component.html -->
<mat-card>
  <mat-card-title>Purchase Reports</mat-card-title>
  <br>
  <mat-card-content>
    <form  class="form"  [formGroup]="PurchaseReportsForm">
    <div class="container-fluid">
      <div  class="row">
        <div class="col-3">
          <mat-form-field appearance="outline" class="desc">
            <mat-label>Clients</mat-label>
            <mat-select formControlName="clientId">
              <mat-option class="ClientId" *ngFor="let client of clients" [value]="client.clientId">
              {{client.name}}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col-3">
          <mat-form-field  appearance="outline" class="Date">
            <mat-label>From Date</mat-label>
            <input matInput [matDatepicker]="picker1" formControlName="from_date">
            <mat-datepicker-toggle matIconSuffix [for]="picker1"></mat-datepicker-toggle>
            <mat-datepicker #picker1></mat-datepicker>
          </mat-form-field>
        </div>
        <div class="col-3">
          <mat-form-field  appearance="outline" class="Date">
            <mat-label>To Date</mat-label>
            <input matInput [matDatepicker]="picker2" formControlName="to_date">
            <mat-datepicker-toggle matIconSuffix [for]="picker2"></mat-datepicker-toggle>
            <mat-datepicker #picker2></mat-datepicker>
          </mat-form-field>
        </div>
        <div class="col-3">
          <button id="btn" type="button" mat-raised-button color="accent" (click)="Get()"><mat-icon>cached</mat-icon>Get</button>
       </div>
      </div>
      <div class="row">
        <div class="col-6">
          <h3><b style="color:black;">Purchase Summary :</b></h3>
          <div>Total Quantity: <b style="color: brown;">{{ totalQuantity }}</b></div>
          <div>Total SNF: <b style="color: brown;"> {{ totalSnf }}</b></div>
          <div>Total Fat: <b style="color: brown;"> {{ totalFat }}</b></div>
          <div>Total Price: <b style="color: brown;">{{ totalPrice }}</b></div>
        </div>
        <div class="col-6">
          <h3><b style="color:black;">Average Values :</b></h3>
          <div>Average Quantity: <b style="color: brown;">{{ avgQuantity }}</b></div>
          <div>Average SNF: <b style="color: brown;">{{ avgSnf }}</b></div>
          <div>Average Fat: <b style="color: brown;">{{ avgFat }}</b></div>
          <div>Average Price: <b style="color: brown;">{{ avgPrice }}</b></div>
        </div>
      </div>
      <div class="row">
        <div class="col-12">
          <div align="center" [ngStyle]="{'background-color':textcolor,'color':'white'}">
            {{msg}}</div>
          <button class="btn btn-md btn-outline-info" style="margin-left:40px;margin-bottom:10px;height:30px ;" (click)="exportToExcel()">Export to Excel</button>
          <h3><b style="color:red;">Purchase Data :</b></h3>
          <ag-grid-angular style="width: 100%; height: 400px;"
           class="ag-theme-alpine" [rowData]="rowData"  [rowHeight]="20" [columnDefs]="colDefs"
           [gridOptions]="gridOptions"></ag-grid-angular>
        </div>
      </div>
    </div>
    </form>
  </mat-card-content>
</mat-card>

